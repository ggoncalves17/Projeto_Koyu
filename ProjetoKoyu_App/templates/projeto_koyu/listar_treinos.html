{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listar Treinos</title>
    <link rel="stylesheet" type="text/css" href="{% static '/css/listar_utilizadores.css' %}">
</head>
<body>
    
    <!-- Menu Lateral -->
    <div class="container">
        
        <aside class="menu-lateral">
            <div class="perfil">
                <div class="foto-perfil"></div>
                <p>Bem-vindo,<br><span>USER_NAME</span></p>
            </div>
            <nav class="menu">
                <ul>
                    <li><span class="icon"><svg width="40" height="35" viewBox="0 0 63 45" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10 7H5C3.7 7 3 8.7 3 10V20H1C0.749561 20.0409 0.518296 20.1594 0.338863 20.3389C0.15943 20.5183 0.0408963 20.7496 0 21V25C0.0408963 25.2504 0.15943 25.4817 0.338863 25.6611C0.518296 25.8406 0.749561 25.9591 1 26H3V36C3 37.3 3.7 39 5 39H10C10.7526 38.8805 11.4482 38.5259 11.987 37.987C12.5259 37.4482 12.8805 36.7526 13 36V10C12.8805 9.24735 12.5259 8.55182 11.987 8.01295C11.4482 7.47408 10.7526 7.11951 10 7ZM62 20H59V10C59 8.7 58.3 7 57 7H52C50.7 7 50 8.7 50 10V36C50 37.3 50.7 39 52 39H57C58.3 39 59 37.3 59 36V26H62C62.2504 25.9591 62.4817 25.8406 62.6611 25.6611C62.8406 25.4817 62.9591 25.2504 63 25V21C62.9591 20.7496 62.8406 20.5183 62.6611 20.3389C62.4817 20.1594 62.2504 20.0409 62 20ZM45 0.999996H40C39.7296 0.967835 39.4554 0.997438 39.1982 1.08658C38.9409 1.17571 38.7072 1.32206 38.5146 1.5146C38.3221 1.70715 38.1757 1.94086 38.0866 2.19815C37.9974 2.45544 37.9678 2.72961 38 3V20H25V3C25.0322 2.72961 25.0026 2.45544 24.9134 2.19815C24.8243 1.94086 24.6779 1.70715 24.4854 1.5146C24.2929 1.32206 24.0591 1.17571 23.8018 1.08658C23.5445 0.997438 23.2704 0.967835 23 0.999996H18C17.7296 0.967835 17.4555 0.997438 17.1982 1.08658C16.9409 1.17571 16.7071 1.32206 16.5146 1.5146C16.3221 1.70715 16.1757 1.94086 16.0866 2.19815C15.9974 2.45544 15.9678 2.72961 16 3V42C16 43.3 16.7 45 18 45H23C24.3 45 25 43.3 25 42V26H38V42C38 43.3 38.7 45 40 45H45C46.3 45 47 43.3 47 42V3C47.0322 2.72961 47.0026 2.45544 46.9134 2.19815C46.8243 1.94086 46.6779 1.70715 46.4854 1.5146C46.2928 1.32206 46.0591 1.17571 45.8018 1.08658C45.5446 0.997438 45.2704 0.967835 45 0.999996Z" fill="white" fill-opacity="0.5"/>
                        </svg></span> Exercícios</li>
                    <li class="ativo"><span class="icon"><svg width="40" height="30" viewBox="0 0 38 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M33 6.00002H25C25.0225 5.20598 24.8827 4.4157 24.5891 3.67757C24.2956 2.93944 23.8544 2.269 23.2927 1.7073C22.731 1.1456 22.0606 0.704461 21.3225 0.410897C20.5843 0.117333 19.794 -0.0224785 19 2.30849e-05C18.206 -0.0224785 17.4157 0.117333 16.6775 0.410897C15.9394 0.704461 15.269 1.1456 14.7073 1.7073C14.1456 2.269 13.7044 2.93944 13.4109 3.67757C13.1173 4.4157 12.9775 5.20598 13 6.00002H5C3.69277 6.05864 2.45478 6.60424 1.5295 7.52952C0.604221 8.4548 0.0586196 9.69279 0 11L0 45C0.0586196 46.3073 0.604221 47.5452 1.5295 48.4705C2.45478 49.3958 3.69277 49.9414 5 50H33C34.3072 49.9414 35.5452 49.3958 36.4705 48.4705C37.3958 47.5452 37.9414 46.3073 38 45V11C37.9414 9.69279 37.3958 8.4548 36.4705 7.52952C35.5452 6.60424 34.3072 6.05864 33 6.00002ZM9 41C8.72961 41.0322 8.45545 41.0026 8.19816 40.9134C7.94087 40.8243 7.70715 40.678 7.51461 40.4854C7.32207 40.2929 7.17572 40.0592 7.08658 39.8019C6.99744 39.5446 6.96784 39.2704 7 39C6.96784 38.7296 6.99744 38.4555 7.08658 38.1982C7.17572 37.9409 7.32207 37.7072 7.51461 37.5146C7.70715 37.3221 7.94087 37.1757 8.19816 37.0866C8.45545 36.9975 8.72961 36.9679 9 37C10.3 37 12 37.7 12 39C12 40.3 10.3 41 9 41ZM9 32C8.72961 32.0322 8.45545 32.0026 8.19816 31.9134C7.94087 31.8243 7.70715 31.678 7.51461 31.4854C7.32207 31.2929 7.17572 31.0592 7.08658 30.8019C6.99744 30.5446 6.96784 30.2704 7 30C7 28.7 7.7 27 9 27C9.75264 27.1195 10.4482 27.4741 10.987 28.013C11.5259 28.5518 11.8805 29.2474 12 30C12 31.3 10.3 32 9 32ZM9 23C7.7 23 7 21.3 7 20C6.96784 19.7296 6.99744 19.4555 7.08658 19.1982C7.17572 18.9409 7.32207 18.7072 7.51461 18.5146C7.70715 18.3221 7.94087 18.1757 8.19816 18.0866C8.45545 17.9975 8.72961 17.9679 9 18C10.3 18 12 18.7 12 20C11.8805 20.7527 11.5259 21.4482 10.987 21.9871C10.4482 22.5259 9.75264 22.8805 9 23ZM19 4.00002C19.2704 3.96786 19.5445 3.99746 19.8018 4.0866C20.0591 4.17574 20.2929 4.32209 20.4854 4.51463C20.6779 4.70717 20.8243 4.94089 20.9134 5.19818C21.0026 5.45547 21.0322 5.72963 21 6.00002C21 7.30002 20.3 9.00002 19 9.00002C18.2474 8.88051 17.5518 8.52594 17.013 7.98707C16.4741 7.4482 16.1195 6.75267 16 6.00002C16 4.70002 17.7 4.00002 19 4.00002ZM31 40C30.9591 40.2505 30.8406 40.4817 30.6611 40.6612C30.4817 40.8406 30.2504 40.9591 30 41H16C15.57 41 16 40.43 16 40V38C15.57 38 16 37.57 16 38H30C30.43 38 31 37.57 31 38V40ZM31 30C30.9591 30.2505 30.8406 30.4817 30.6611 30.6612C30.4817 30.8406 30.2504 30.9591 30 31H16C15.57 31 16 30.43 16 30V29C16 28.57 15.57 28 16 28H30C30.2504 28.0409 30.4817 28.1595 30.6611 28.3389C30.8406 28.5183 30.9591 28.7496 31 29V30ZM31 21C30.9591 21.2505 30.8406 21.4817 30.6611 21.6612C30.4817 21.8406 30.2504 21.9591 30 22H16C15.57 22 16 21.43 16 21V20C16 19.57 15.57 19 16 19H30C30.2504 19.0409 30.4817 19.1595 30.6611 19.3389C30.8406 19.5183 30.9591 19.7496 31 20V21Z" fill="white"/>
                        </svg></span> Treino</li>
                    <li><span class="icon"><svg width="35" height="40" viewBox="0 0 63 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19.0001 22C21.1757 22 23.3025 21.3549 25.1114 20.1462C26.9203 18.9375 28.3302 17.2195 29.1628 15.2095C29.9954 13.1995 30.2132 10.9878 29.7888 8.85401C29.3643 6.72022 28.3167 4.76021 26.7783 3.22183C25.2399 1.68345 23.2799 0.635804 21.1461 0.211367C19.0123 -0.213071 16.8006 0.00476617 14.7906 0.83733C12.7806 1.66989 11.0626 3.07979 9.85395 4.88873C8.64526 6.69767 8.00012 8.82441 8.00012 11C8.0104 13.9142 9.17262 16.7062 11.2333 18.7668C13.294 20.8275 16.0859 21.9897 19.0001 22ZM26.0001 25H25.0001C22.9691 25.977 21.4001 27 19.0001 27C16.5509 26.8402 14.1641 26.1582 12.0001 25H11.0001C9.54928 24.9772 8.10864 25.2461 6.76375 25.7908C5.41886 26.3356 4.19713 27.145 3.17111 28.171C2.14508 29.197 1.33568 30.4187 0.790956 31.7636C0.246234 33.1085 -0.0227013 34.5492 0.000118953 36V39C0.0587385 40.3072 0.60434 41.5452 1.52962 42.4705C2.4549 43.3958 3.69289 43.9414 5.00012 44H33.0001C34.3073 43.9414 35.5453 43.3958 36.4706 42.4705C37.3959 41.5452 37.9415 40.3072 38.0001 39V36C38.0001 29.789 32.2111 25 26.0001 25ZM47.0001 22C48.1914 22.0346 49.3772 21.8254 50.4847 21.3853C51.5923 20.9453 52.5983 20.2836 53.441 19.4409C54.2837 18.5982 54.9454 17.5922 55.3854 16.4846C55.8255 15.3771 56.0347 14.1913 56.0001 13C56.0001 7.824 52.1761 3.00001 47.0001 3.00001C41.8241 3.00001 38.0001 7.824 38.0001 13C37.9656 14.1913 38.1747 15.3771 38.6148 16.4846C39.0549 17.5922 39.7165 18.5982 40.5593 19.4409C41.402 20.2836 42.408 20.9453 43.5155 21.3853C44.6231 21.8254 45.8088 22.0346 47.0001 22ZM52.0001 25H51.0001C49.7376 25.5708 48.3827 25.9095 47.0001 26C45.6176 25.9095 44.2626 25.5708 43.0001 25H42.0001C40.0081 25 38.6111 26.072 37.0001 27C39.3831 29.568 41.0001 32.23 41.0001 36V40C41.0001 40.215 41.0101 40.795 41.0001 41H58.0001C59.3073 40.9414 60.5453 40.3958 61.4706 39.4705C62.3959 38.5452 62.9415 37.3072 63.0001 36C62.9898 33.0858 61.8276 30.2939 59.7669 28.2332C57.7063 26.1725 54.9143 25.0103 52.0001 25Z" fill="white" fill-opacity="0.5"/>
                            </svg></span> Utilizadores</li>
                    <li><span class="icon"><svg width="40" height="30" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M25 28C27.7689 28 30.4757 27.1789 32.778 25.6406C35.0803 24.1022 36.8747 21.9157 37.9343 19.3576C38.9939 16.7994 39.2712 13.9845 38.731 11.2687C38.1908 8.55301 36.8574 6.05845 34.8995 4.10051C32.9416 2.14258 30.447 0.809205 27.7313 0.269012C25.0155 -0.271181 22.2006 0.00606608 19.6424 1.06569C17.0843 2.12532 14.8978 3.91973 13.3594 6.22202C11.8211 8.52431 11 11.2311 11 14C10.9947 15.84 11.3532 17.6629 12.0549 19.3638C12.7566 21.0648 13.7877 22.6102 15.0887 23.9113C16.3898 25.2123 17.9353 26.2434 19.6362 26.9451C21.3371 27.6468 23.16 28.0053 25 28ZM38 31H32C29.84 32.1682 27.4511 32.8508 25 33C22.5491 32.8494 20.1605 32.167 18 31H13C9.58166 31.0934 6.32903 32.493 3.911 34.911C1.49297 37.329 0.0933593 40.5817 0 44L0 45C0.0586196 46.3072 0.604221 47.5452 1.5295 48.4705C2.45478 49.3958 3.69277 49.9414 5 50H45C46.3072 49.9414 47.5452 49.3958 48.4705 48.4705C49.3958 47.5452 49.9414 46.3072 50 45V44C50 37.1 44.9 31 38 31Z" fill="white" fill-opacity="0.5"/>
                        </svg></span> Perfil</li>
                </ul>
                <button class="logout"><span class="icon"><svg width="25" height="25" viewBox="0 0 45 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16.834 0.361023V5.97202H39.279V34.028H16.834V39.639H44.89V0.361023H16.834ZM11.222 11.583L0 20L11.222 28.417V22.806H33.667V17.195H11.222V11.583Z" fill="white"/>
                    </svg></span> Logout</button>
            </nav>
        </aside>
        
    </div>
    <!-- Menu Lateral -->   

    <div class="main">
        <div class="main-header">
            <div class="title" style="display: flex; align-items: center; "> 
                <img src="{% static 'images/GP_LogótipoVerde.png' %}" alt="Logotipo" style="width: 150px;"> 
                <div id="barra-vertical"></div>
                <p style="font: size 20px; color: #78997a; margin-bottom: -10px;"> Listar Treinos</p>
            </div>
            <div class="search-filter" style="display: flex; align-items: center; margin-top: 20px; box-shadow: 4px 4px 6px rgba(0, 0, 0, 0.1); border-radius: 25px; background-color: white;">
                <div class="search">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="32" height="32" fill="#ffffff" id="svg-lupa">
                        <circle cx="10" cy="10" r="6" stroke="#ffffff" stroke-width="2" fill="none"/>
                        <line x1="14" y1="14" x2="20" y2="20" stroke="#ffffff" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <input id="search-bar" type="text" placeholder="Pesquisar..." onkeyup="filtro()">
                </div>
                <div class="filter">
                    <button id="filter-button" style="margin-left: 10px; margin-right: 15px; background: transparent; border: none; cursor: pointer;">
                        <svg width="20" height="20" viewBox="0 0 34 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M31.5811 1.5H1.58105L13.5811 15.69V25.5L19.5811 28.5V15.69L31.5811 1.5Z" stroke="#396C3B" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>                        
                    </button>
                </div>
            </div>

        </div>
       <div class="main-body"> 
    {% for treino in treinos %}
    <div class="treinos-card" treino_nome="{{ treino.pt_nome }}">
        <div class="card-header">
            <h3 class="treino-nome">{{ treino.pt_nome }}</h3>
        </div>
        <div class="card-body">
            <p class="treino-modalidade-titulo">Modalidade</p>
            <div class="treino-modalidade">{{ treino.modalidade.ca_nome }}</div>
            <p class="treino-duracao-titulo">Duração</p>
            <div class="treino-duracao">{{ treino.duracao }} min</div>
        </div>
        <div class="button-div">
            <button onclick="location.href='http://127.0.0.1:8000/listar_treinos'">Ver detalhes</button>
            <form action="{% url 'eliminar_treino' treino.id %}" method="post" style="display:inline;">
                {% csrf_token %}
                <button type="submit" style="border: none; background: none; padding: 0; cursor: pointer; width: 10px; height: 10px;">
                    <svg width="22" height="27" fill="#6b8e23" id="svg-lixo" viewBox="0 0 22 27" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1.65395 8.267V24.8C1.65527 25.238 1.82985 25.6577 2.13956 25.9674C2.44927 26.2771 2.86896 26.4517 3.30695 26.453H18.187C18.625 26.4517 19.0446 26.2771 19.3543 25.9674C19.6641 25.6577 19.8386 25.238 19.84 24.8V8.267H1.65395ZM6.61395 23.147H4.96095V11.572H6.61395V23.147ZM9.92095 23.147H8.26695V11.572H9.91995L9.92095 23.147ZM13.228 23.147H11.574V11.572H13.227L13.228 23.147ZM16.535 23.147H14.881V11.572H16.534L16.535 23.147ZM20.255 3.307H14.881V1.24C14.8799 0.911456 14.7489 0.59667 14.5166 0.364353C14.2843 0.132036 13.9695 0.00105472 13.641 0H7.85395C7.52541 0.00105472 7.21062 0.132036 6.97831 0.364353C6.74599 0.59667 6.61501 0.911456 6.61395 1.24V3.307H1.24095C0.912583 3.30832 0.598052 3.43942 0.365951 3.6717C0.13385 3.90399 0.00300634 4.21863 0.00195312 4.547V6.613H21.494V4.547C21.4929 4.21846 21.3619 3.90367 21.1296 3.67135C20.8973 3.43904 20.5835 3.30805 20.255 3.307ZM13.228 3.307H8.26795V1.672H13.228V3.307Z" fill="#78997A"/>
                    </svg>        
                </button>
            </form>
            
        </div>
    </div>
    {% endfor %}
</div>

        
        <button id="add-button" onclick="location.href='http://127.0.0.1:8000/listar_treinos'">+</button>
    </div>

    <!-- Script para filtrar utilizadores -->
    <script>
        function filtro(){
            let searchBar = document.getElementById('search-bar');
            let termoPesquisa = searchBar.value.toLowerCase();
            let treinosCards = document.getElementsByClassName('treinos-card');

            for(let i = 0; i < treinosCards.length; i++){
                let treinosName = treinosCards[i].getAttribute('ut_nome');
                if(termoPesquisa == "" || treinosName.toLowerCase() == termoPesquisa){
                    treinosCards[i].style.display=""
                }
                else{
                    treinosCards[i].style.display="none";
                }
            }

        }
    </script>

</body>
</html>